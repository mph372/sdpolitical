<% if @district.at_large_district? %>
<% @district.jurisdiction.incumbents.each do |incumbent| %>
  <% if incumbent.incumbent_district.at_large_district? %>
    <div class="card shadow-sm mb-3 bg-white rounded border-primary" style="max-width: 100%;">
              <div class="card-header">
                Incumbent
              </div>
            <div class="row no-gutters">
              <div class="col-auto d-flex  justify-content-center pl-4 mt-3" >
                <% if incumbent.present? %>
                <%= image_tag incumbent.image.url(:headshot), alt: 'headshot', :class => "avatar text-center shadow", size: "100x100"  %></div>
                <% else %>
                <%= image_tag 'https://nex3.com/wp-content/uploads/2019/12/placeholder-headshot-300x300.png', alt: 'vacant_headshot', :class => "avatar text-center mb-3 shadow", size: "100x100"  %></div>
                <%end%>
              <div class="col-auto">
                <div class="card-body">
                  <% if incumbent.present? %>
                  <h4 class="card-title"> <%= link_to "#{incumbent.first_name} #{incumbent.last_name}", incumbent %> </h4>
                  
                  <h6 class="card-subtitle mb-2 text-muted"><%= "#{incumbent.title} (#{incumbent.party})" %></h6>
                  <%else%>
                  <h4 class="card-title">VACANT</h4>
                  <%end%>
                  <p class="card-text">
                    <%if incumbent.present? %>
                      <div>
                          <small class="heavy">Birthdate: </small><small><%if incumbent.birthdate.present? %><%= incumbent.birthdate.to_formatted_s(:long) %> (Age <%= incumbent.calculated_age %>)<%else%><em>Unknown</em><%end%> 
                          <%if incumbent.birthplace? %>
                          in <%= incumbent.birthplace %>
                          <% end %></small><br>
                          <small class="heavy">Term Expires: </small><small><%= incumbent.term_expires %></small>
                          <% if incumbent.term? %>
                          <small><%= "(Term Limited in #{incumbent.term})" %></small>
                          <%end%>
                          <%if incumbent.congressional_district.present? || incumbent.senate_district.present? || incumbent.assembly_district.present? || incumbent.supe_district.present? %>                  
                          <br>
                          <small class="heavy">Resides in: </small><%end%><% if incumbent.congressional_district != nil %>
                          <small><%=  "CD-#{incumbent.congressional_district}" %>,</small>
                          <%end%>
                          <% if @district.incumbent.senate_district != nil %>
                          <small><%= "SD-#{incumbent.senate_district}" %>,</small>
                          <%end%>
                          <% if @district.incumbent.assembly_district != nil %>
                          <small><%= "AD-#{incumbent.assembly_district}" %>,</small>
                          <%end%>
                          <% if @district.incumbent.supe_district != nil %>
                          <small><%= "BOS-#{incumbent.supe_district}" %></small>
                          <%end%>
                      </div>
                      <%end%>
                  </p>
                </div>
              </div>
            </div>
      </div>
    <%end%>
  <%end%>
<%elsif @district.at_large_district == false %>
  <div class="card shadow-sm mb-3 bg-white rounded border-primary" style="max-width: 100%;">
          <div class="card-header">
            Incumbent
          </div>
        <div class="row no-gutters">
          <div class="col-auto d-flex  justify-content-center pl-4 mt-3" >
            <% if @district.incumbent.present? %>
            <%= image_tag @district.incumbent.image.url(:headshot), alt: 'headshot', :class => "avatar text-center shadow", size: "100x100"  %></div>
            <% else %>
            <%= image_tag 'https://nex3.com/wp-content/uploads/2019/12/placeholder-headshot-300x300.png', alt: 'vacant_headshot', :class => "avatar text-center mb-3 shadow", size: "100x100"  %></div>
            <%end%>
          <div class="col-auto">
            <div class="card-body">
              <% if @district.incumbent.present? %>
              <h4 class="card-title"> <%= link_to "#{@district.incumbent.first_name} #{@district.incumbent.last_name}", @district.incumbent %></h4>
              <h6 class="card-subtitle mb-2 text-muted"><%= "#{@district.incumbent.title} (#{@district.incumbent.party})" %></h6>
              <%else%>
              <h4 class="card-title">VACANT</h4>
              <%end%>
              <p class="card-text">
                <%if @district.incumbent.present? %>
                  <div>
                      <small class="heavy">Birthdate: </small><small><%if @district.incumbent.birthdate.present? %><%= @district.incumbent.birthdate.to_formatted_s(:long) %> (Age <%= @district.incumbent.calculated_age %>)<%else%><em>Unknown</em><%end%> 
                      <%if @district.incumbent.birthplace? %>
                      in <%= @district.incumbent.birthplace %>
                      <% end %></small><br>
                      <small class="heavy">Term Expires: </small><small><%= @district.incumbent.term_expires %></small>
                      <% if @district.incumbent.term? %>
                      <small><%= "(Term Limited in #{@district.incumbent.term})" %></small>
                      <%end%>
                      <%if @district.incumbent.congressional_district.present? || @district.incumbent.senate_district.present? || @district.incumbent.assembly_district.present? || @district.incumbent.supe_district.present? %>                  
                      <br>
                      <small class="heavy">Resides in: </small><%end%><% if @district.incumbent.congressional_district != nil %>
                      <small><%=  "CD-#{@district.incumbent.congressional_district}" %>,</small>
                      <%end%>
                      <% if @district.incumbent.senate_district != nil %>
                      <small><%= "SD-#{@district.incumbent.senate_district}" %>,</small>
                      <%end%>
                      <% if @district.incumbent.assembly_district != nil %>
                      <small><%= "AD-#{@district.incumbent.assembly_district}" %>,</small>
                      <%end%>
                      <% if @district.incumbent.supe_district != nil %>
                      <small><%= "BOS-#{@district.incumbent.supe_district}" %></small>
                      <%end%>
                  </div>
                <%end%>
              </p>
          </div>
        </div>
  </div> 
  </div> 
<%end%>